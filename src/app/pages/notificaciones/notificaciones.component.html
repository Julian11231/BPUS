<!--
    - Proyecto:         BPUS
    - Componente:       notificaciones.component
    - Desarrollador:    Cristian Juli치n Andrade Murillo
    - Descripci칩n:      Front de las notificaciones
-->
<div id="main-wrapper">

    <!-- Selector del header -->
    <app-navbar></app-navbar>

    <!-- Selector del sidebar -->
    <app-sidebar></app-sidebar>

    <div class="page-wrapper">

        <div class="container-fluid" style="background-color: white;">
            
            <div class='mt-3 container'>
                <h2 class="m3">Tus notificaciones</h2>
            </div>

            <ul class="mt-3 nav nav-justified" role="tablist">
                <li class="nav-item">
                    <a (click)="activeTab('recibidasTab')" id="recibidasTab" class="nav-link activeTab font-weight-bold" href="#noLeidas" role="tab" data-toggle="tab">Por leer</a>
                </li>
                <li class="nav-item">
                    <a (click)="activeTab('enviadasTab')" id="enviadasTab" class="nav-link text-body" href="#leidas" role="tab" data-toggle="tab">Leidas</a>
                </li>
            </ul>
            <!-- tabs panes -->
    
            <div class="mt-4 px-lg-5 px-1 tab-content">
                <!--Notificaciones por leer -->
                <div role="tabpanel" class="tab-pane fade show active" id="noLeidas">
                    <ng-container  *ngIf="numeroNotificacionesNoLeidas > 0">
                        <ng-container *ngFor="let notificacion of notificacionesNoLeidas">
                            <div class="row">
                                <div class="col-12 col-md-10 col-lg-10">
                                    <h4>{{notificacion.mensajeDetalle}}</h4>
                                    <h6><b>{{notificacion.fecha}}</b></h6>
                                </div>
                                <div class="col-12 col-md-2 col-lg-2">
                                    <button type="button" class="btn btn-primary" (click)="marcarLeida(notificacion._id)">
                                        Marcar como leida
                                    </button>
                                </div>
                            </div>
                            <hr>
                        </ng-container>
                    </ng-container>
                    <div *ngIf="numeroNotificacionesNoLeidas <= 0" class="my-5 py-5 text-center">
                        <h4>No tienes ninguna notificaci칩n por leer...</h4>
                    </div>
                </div>
                <!--Notificaciones leidas -->
                <div role="tabpanel" class="tab-pane fade show" id="leidas">
                    <ng-container  *ngIf="numeroNotificacionesLeidas > 0">
                        <ng-container  *ngFor="let notificacion of notificacionesLeidas">
                            <div class="row">
                                <div class="col-12 col-md-10 col-lg-10">
                                    <h4>{{notificacion.mensajeDetalle}}</h4>
                                    <h6><b>{{notificacion.fecha}}</b></h6>
                                </div>
                                <div class="col-12 col-md-2 col-lg-2">
                                    <button type="button" class="btn btnSuccess" (click)="borrarNotificacion(notificacion)">
                                        Borrar <i class="fa fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <hr>
                        </ng-container >
                    </ng-container>
                    <div *ngIf="numeroNotificacionesLeidas <= 0" class="my-5 py-5 text-center">
                        <h4>No tienes ninguna notificaci칩n...</h4>
                    </div>
                </div>
            </div>
            
        </div>

    </div>

</div>